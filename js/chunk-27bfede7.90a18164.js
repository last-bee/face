(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27bfede7"],{3703:function(o,i,t){"use strict";var s=t("7d0d"),n=t.n(s);n.a},3977:function(o,i,t){},3999:function(o,i,t){"use strict";var s=t("7848"),n=t("41e6"),e=t("48e1"),a=t("31e8"),c=t("3888"),l=Object.assign;o.exports=!l||t("3f16")(function(){var o={},i={},t=Symbol(),s="abcdefghijklmnopqrst";return o[t]=7,s.split("").forEach(function(o){i[o]=o}),7!=l({},o)[t]||Object.keys(l({},i)).join("")!=s})?function(o,i){var t=a(o),l=arguments.length,r=1,d=n.f,u=e.f;while(l>r){var p,g=c(arguments[r++]),m=d?s(g).concat(d(g)):s(g),h=m.length,f=0;while(h>f)u.call(g,p=m[f++])&&(t[p]=g[p])}return t}:l},"41e6":function(o,i){i.f=Object.getOwnPropertySymbols},4328:function(o,i,t){"use strict";t.d(i,"c",function(){return n}),t.d(i,"a",function(){return e}),t.d(i,"b",function(){return a});var s=t("2443");function n(o){var i=/^\d+$/;return i.test(o)}function e(o,i){var t=/^[1][3456789]\d{9}$/;return!!t.test(o)||(Object(s["r"])({message:"请输入正确的".concat(i,"!")}),!1)}function a(o,i){var t=/^[A-Za-z0-9]{6,20}$/;return!!t.test(o)||(Object(s["r"])({message:i+"由6~20位大小写英文字母、阿拉伯数字或大小写英文字母和阿拉伯数字的组合"}),!1)}},"7d0d":function(o,i,t){},"7e96":function(o,i,t){var s=t("a345");s(s.S+s.F,"Object",{assign:t("3999")})},"89d2":function(o,i,t){"use strict";t.r(i);var s=function(){var o=this,i=o.$createElement,t=o._self._c||i;return t("div",{staticClass:"login-main"},[t("c-nav-bar",{staticClass:"login-main-header"},[t("span",{staticClass:"nav-bar-right",attrs:{slot:"right"},on:{click:o.registered},slot:"right"},[o._v("\n      注册\n    ")])]),t("div",{staticClass:"login-content"},[t("div",{ref:"quickLogin",staticClass:"quick-login"},[t("div",{staticClass:"login-title"},[t("van-icon",{attrs:{name:"location"}}),t("span",[o._v("快捷登录")])],1),t("ul",{staticClass:"turn-login-content"},[t("li",[t("input",{directives:[{name:"model",rawName:"v-model",value:o.quickLogin.mobile,expression:"quickLogin.mobile"}],attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:o.quickLogin.mobile},on:{input:function(i){i.target.composing||o.$set(o.quickLogin,"mobile",i.target.value)}}})]),t("li",{staticClass:"get-verCode"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.quickLogin.authCode,expression:"quickLogin.authCode"}],attrs:{type:"text",disabled:o.verDisabled,placeholder:"输入手机验证码"},domProps:{value:o.quickLogin.authCode},on:{keyup:o.toCommitLogin,input:function(i){i.target.composing||o.$set(o.quickLogin,"authCode",i.target.value)}}}),t("c-countdown",{attrs:{isGoRegistered:o.isGoRegistered,isMobileExists:o.isMobileExists,getVerUrl:o.getVerUrl,phoneCode:o.quickLogin.mobile,totalTime:o.totalTime},on:{verCodeFlag:o.verCodeFlag}})],1)]),t("div",{staticClass:"login-commit"},[t("van-button",{staticClass:"commit-login",class:[o.loginBtnFlag?"bg-gray":"bg-orange-dark"],attrs:{round:"",disabled:o.loginBtnFlag,type:"default"},on:{click:function(i){o.commitLogin("quickLogin")}}},[o._v("\n          确定登录\n        ")]),t("div",{staticClass:"pass-commit",on:{click:function(i){o.turnLogin("pass")}}},[o._v("\n          密码登录\n        ")])],1)]),t("div",{ref:"passLogin",staticClass:"pass-login"},[t("div",{staticClass:"login-title"},[t("van-icon",{attrs:{name:"location"}}),t("span",[o._v("密码登录")])],1),t("ul",{staticClass:"turn-login-content"},[t("li",[t("input",{directives:[{name:"model",rawName:"v-model",value:o.passLogin.loginCode,expression:"passLogin.loginCode"}],attrs:{type:"text",placeholder:"输入工号"},domProps:{value:o.passLogin.loginCode},on:{blur:o.passwordLoginPrecheck,input:function(i){i.target.composing||o.$set(o.passLogin,"loginCode",i.target.value)}}})]),t("li",[t("input",{directives:[{name:"model",rawName:"v-model",value:o.passLogin.password,expression:"passLogin.password"}],attrs:{type:"password",placeholder:"输入密码"},domProps:{value:o.passLogin.password},on:{input:function(i){i.target.composing||o.$set(o.passLogin,"password",i.target.value)}}})]),t("li",{directives:[{name:"show",rawName:"v-show",value:o.idCardSuffixShow,expression:"idCardSuffixShow"}]},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.passLogin.idCardSuffix,expression:"passLogin.idCardSuffix"}],attrs:{type:"text",maxlength:"6",placeholder:"输入身份证后六位"},domProps:{value:o.passLogin.idCardSuffix},on:{input:function(i){i.target.composing||o.$set(o.passLogin,"idCardSuffix",i.target.value)}}})]),t("li",{directives:[{name:"show",rawName:"v-show",value:o.companyCodeShow,expression:"companyCodeShow"}],on:{click:o.openCompanyList}},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.companyName,expression:"companyName"}],attrs:{type:"text",disabled:"",placeholder:"选择公司"},domProps:{value:o.companyName},on:{input:function(i){i.target.composing||(o.companyName=i.target.value)}}}),t("i",{staticClass:"iconfont icon-tiaozhuan",staticStyle:{"margin-left":"16%"}})]),t("li",{staticClass:"other-pass"},[t("van-checkbox",{model:{value:o.checked,callback:function(i){o.checked=i},expression:"checked"}},[o._v("\n            记住我\n          ")]),t("span",{staticClass:"forget-pass",on:{click:o.findPass}},[o._v("\n            忘记密码？\n          ")])],1),t("login-company",{attrs:{isShow:o.isShow,choosableCompanyCodes:o.choosableCompanyCodes},on:{closeCompanyList:o.closeCompanyList,chooseCompany:o.chooseCompany}})],1),t("div",{staticClass:"login-commit"},[t("van-button",{staticClass:"commit-login",class:[o.loginBtnFlag?"bg-gray":"bg-orange-dark"],attrs:{round:"",type:"default",disabled:o.loginBtnFlag},on:{click:function(i){o.commitLogin("passLogin")}}},[o._v("\n          确认登录\n        ")]),t("div",{staticClass:"pass-commit",on:{click:function(i){o.turnLogin("quick")}}},[o._v("\n          快捷登录\n        ")])],1)])]),o._m(0)],1)},n=[function(){var o=this,i=o.$createElement,t=o._self._c||i;return t("div",{staticClass:"login-footer"},[t("span",[o._v("第三方登录")]),t("i",{staticClass:"iconfont icon-weixin1"})])}],e=(t("7e96"),function(){var o=this,i=o.$createElement,t=o._self._c||i;return t("div",{staticClass:"login-company-main"},[t("van-popup",{attrs:{position:"bottom",overlay:!0,closeOnClickOverlay:!1},model:{value:o.isShow,callback:function(i){o.isShow=i},expression:"isShow"}},[t("div",{staticClass:"company-title"},[t("div",{staticClass:"close",on:{click:o.closeCompanyList}},[o._v("\n        X\n      ")]),t("div",{staticClass:"title"},[o._v("\n        选择保险公司\n      ")])]),t("ul",{staticClass:"login-company-content"},o._l(o.choosableCompanyCodes,function(i,s){return t("li",{key:s,staticClass:"login-company-item",on:{click:function(i){o.chooseCompany(s)}}},[o._v("\n        "+o._s(i)+"\n      ")])}),0)])],1)}),a=[],c={name:"login-company",props:{isShow:{type:Boolean,default:!1},choosableCompanyCodes:{type:Object,default:function(){}}},methods:{closeCompanyList:function(){this.$emit("closeCompanyList")},chooseCompany:function(o){this.$emit("chooseCompany",o)}}},l=c,r=(t("3703"),t("048f")),d=Object(r["a"])(l,e,a,!1,null,"1d06d731",null);d.options.__file="loginCompany.vue";var u=d.exports,p=t("4328"),g={name:"login",data:function(){return{companyName:"",isGoRegistered:!0,isMobileExists:!0,loginCodeExists:!1,twiceIsMobileExists:!1,idCardSuffixShow:!1,companyCodeShow:!1,isShow:!1,checked:!1,loginBtnFlag:!0,verDisabled:!0,totalTime:60,getVerUrl:"/api/authCode/sendForQuickLogin",quickLogin:{mobile:"",authCode:""},passLogin:{loginCode:"",password:""},choosableCompanyCodes:{}}},components:{"login-company":u},watch:{passLogin:{handler:function(){var o;for(var i in this.passLogin)if(!this.passLogin[i]){o=!0;break}this.loginBtnFlag=o||!1},deep:!0}},methods:{turnLogin:function(o){this.loginBtnFlag=!0,Object.assign(this.$data,this.$options.data()),"pass"===o?(this.$refs.quickLogin.style.left="100%",this.$refs.passLogin.style.left="0"):(this.$refs.quickLogin.style.left="0",this.$refs.passLogin.style.left="100%")},verCodeFlag:function(o){this.verDisabled=o},toCommitLogin:function(){this.loginBtnFlag=!this.quickLogin.authCode},passwordLoginPrecheck:function(o){var i=this;this.passLogin.loginCode&&this.$http.post("/api/user/passwordLoginPrecheck",{loginCode:this.passLogin.loginCode,idCardSuffix:this.passLogin.idCardSuffix||""}).then(function(t){i.loginCodeExists=t.data.data.loginCodeExists,i.idCardSuffixShow=t.data.data.needIdcardSuffix,i.companyCodeShow=t.data.data.needCompanyCode,i.choosableCompanyCodes=t.data.data.choosableCompanyCodes,t.data.data.needIdcardSuffix&&"add"!==o&&i.$set(i.passLogin,"idCardSuffix",""),t.data.data.needCompanyCode&&"add"!==o&&i.$set(i.passLogin,"companyCode","")},function(o){console.log(o)})},openCompanyList:function(){this.isShow=!0},closeCompanyList:function(){this.isShow=!1},chooseCompany:function(o){this.companyName=this.choosableCompanyCodes[o],this.passLogin.companyCode=o,this.isShow=!1},commitLogin:function(o){var i,t,s=this;if("quickLogin"===o){if(!Object(p["a"])(this.quickLogin.mobile))return;if(!Object(p["c"])(this.quickLogin.authCode))return void this.$toast("请输入正确的验证码!");i="/api/user/quickLogin",t=this.quickLogin}else if("passLogin"===o){if(!this.loginCodeExists)return void this.$toast("请输入正确的工号!");this.idCardSuffixShow&&!this.twiceIsMobileExists&&(this.twiceIsMobileExists=!0,this.passwordLoginPrecheck("add")),i="/api/user/passwordLogin",t=this.passLogin}this.$http.post(i,t).then(function(o){o.data.success?(s.$router.push({name:"首页"}),s.$store.commit("set_userInfo",o.data.data),console.log(s.$store.state)):s.$toast(o.data.errorMessage)},function(o){console.log(o)})},registered:function(){this.$router.push({name:"注册"})},findPass:function(){this.$router.push({name:"找回密码"})}}},m=g,h=(t("baba"),Object(r["a"])(m,s,n,!1,null,"7f4a1da1",null));h.options.__file="login.vue";i["default"]=h.exports},baba:function(o,i,t){"use strict";var s=t("3977"),n=t.n(s);n.a}}]);
//# sourceMappingURL=chunk-27bfede7.90a18164.js.map